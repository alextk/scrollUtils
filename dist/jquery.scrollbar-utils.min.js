/*
* scrollUtils - jQuery plugin for calculations of scrollbar position and viewport
*
* Version: 0.0.1
* Build: 27
* Copyright 2011 Alex Tkachev
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: 13 Dec 2011 21:50:32
*/

(function(a){a.scrollbarSize={width:function(){var a=0;return function(){var b,c;a==0&&(b=jQuery('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),c=b.children(),a=c.innerWidth()-c.height(99).innerWidth(),b.remove());return a}}(),height:function(){var a=0;return function(){var b,c;if(a==0){b=jQuery('<div style="width:200px;height:150px;overflow:hidden"><div style="width:100%;height:200px;"/></div>').appendTo("body"),c=b.children();var d=b[0].offsetHeight;b.css("overflow","scroll");var e=b[0].offsetHeight;d==e&&(e=b[0].clientHeight),a=d-e,b.remove()}return a}}()}})(jQuery),function(a){var b={hasHorizontalScrollBar:function(){if(!this[0])return!1;var b=this;return b.css("overflow-x")=="scroll"?!0:b.css("overflow-x")=="hidden"?!1:b.attr("scrollWidth")>b.width()-a.scrollbarSize.width()},hasVerticalScrollBar:function(){if(!this[0])return!1;var b=this;return b.css("overflow-y")=="scroll"?!0:b.css("overflow-y")=="hidden"?!1:b.attr("scrollHeight")>b.height()-a.scrollbarSize.height()},width:function(){var b=this.width();this.viewport("hasVerticalScrollBar")&&(b=b-a.scrollbarSize.width());return b},height:function(){var b=this.height();this.viewport("hasHorizontalScrollBar")&&(b=b-a.scrollbarSize.height());return b},isFullyVisible:function(a){var b=a.position().top,c=b+a.height(),d=a.position().left,e=d+a.width();return b>=0&&c<=this.viewport("height")&&d>=0&&e<=this.viewport("width")},reveal:function(b){b instanceof a||(b=a(b));var c={top:this.attr("scrollTop"),left:this.attr("scrollLeft")};c.bottom=c.top+this.viewport("height"),c.right=c.left+this.viewport("width");var d=b.position();d.top=d.top+c.top,d.left=d.left+c.left,d.bottom=d.top+b.outerHeight(),d.right=d.left+b.outerWidth(),d.top<c.top?c.top=c.top-(c.top-d.top):d.bottom>c.bottom&&(c.top=c.top+(d.bottom-c.bottom)),d.left<c.left?c.left=c.left-(c.left-d.left):d.right>c.right&&(c.left=c.left+(d.right-c.right));var e=this.viewport("maxScrollPositions");c.left>e.left&&(c.left=e.left),c.top>e.top&&(c.top=e.top),this.scrollTop=c.top,this.scrollLeft=c.left},maxScrollPositions:function(){if(this.is("html,body")){var a=this[0].ownerDocument.documentElement,b=this[0].ownerDocument.body;return{left:Math.max(a.scrollWidth,b.scrollWidth)-Math.min(a.clientWidth,b.clientWidth),top:Math.max(a.scrollHeight,b.scrollHeight)-Math.min(a.clientHeight,b.clientHeight)}}return{left:this.scrollWidth-this.viewport("width"),top:this.scrollHeight-this.viewport("height")}}};a.fn.viewport=function(c){if(b[c])return b[c].apply(this,Array.prototype.slice.call(arguments,1));if(typeof c!=="object"&&c)a.error("Method "+c+" does not exist on jQuery.viewport");else return b.init.apply(this,arguments)}}(jQuery)
